<!DOCTYPE html>
<html lang="zh">
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<title>身份认证信息系统</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=no">
	<meta name="description" content="">
	<meta name="author" content="">
	<!-- STYLESHEETS --><!--[if lt IE 9]><script src="js/flot/excanvas.min.js"></script><![endif]-->
	<link rel="stylesheet" type="text/css" href="css/cloud-admin.css" >
	<link rel="stylesheet" type="text/css"  href="css/themes/default.css" id="skin-switcher" >
	<link rel="stylesheet" type="text/css"  href="css/responsive.css" >
	
	<link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<!-- DATE RANGE PICKER -->
	<link rel="stylesheet" type="text/css" href="js/bootstrap-daterangepicker/daterangepicker-bs3.css" />
	<!-- TABLE CLOTH -->
	<link rel="stylesheet" type="text/css" href="js/tablecloth/css/tablecloth.min.css" />
</head>
<body>
	<!-- HEADER -->
	<header class="navbar clearfix" id="header">
		<div class="container">
				<div class="navbar-brand">
					<!-- COMPANY LOGO -->
					<a href="index.html">
						<img src="img/logo/logo.png" alt="Cloud Admin Logo" class="img-responsive" height="30" width="120">
					</a>
					<!-- /COMPANY LOGO -->
					<!-- TEAM STATUS FOR MOBILE -->
					<div class="visible-xs">
						<a href="#" class="team-status-toggle switcher btn dropdown-toggle">
							<i class="fa fa-users"></i>
						</a>
					</div>
					<!-- /TEAM STATUS FOR MOBILE -->
				</div>

				<!-- BEGIN TOP NAVIGATION MENU -->					
				<ul class="nav navbar-nav pull-right" style="min-width: 0px;">
					<!-- BEGIN USER LOGIN DROPDOWN -->
					<li class="dropdown user" id="header-user">
						<a href="#" class="dropdown-toggle" data-toggle="dropdown">
							<img alt="" src="img/avatars/avatar3.jpg" />
							<span class="username">John Doe</span>
							<i class="fa fa-angle-down"></i>
						</a>
						<ul class="dropdown-menu">
							<li><a href="#"><i class="fa fa-user"></i> My Profile</a></li>
							<li><a href="#"><i class="fa fa-cog"></i> Account Settings</a></li>
							<li><a href="#"><i class="fa fa-eye"></i> Privacy Settings</a></li>
							<li><a href="login.html"><i class="fa fa-power-off"></i> Log Out</a></li>
						</ul>
					</li>
					<!-- END USER LOGIN DROPDOWN -->
				</ul>
				<!-- END TOP NAVIGATION MENU -->
		</div>
		
	</header>
	<!--/HEADER -->
	
	<!-- PAGE -->
	<section id="page">
			<!-- SIDEBAR -->
			<div id="sidebar" class="sidebar">
				<div class="sidebar-menu nav-collapse">
					<div class="divide-20"></div>

					<!-- SIDEBAR MENU -->
					<ul>
						<li>
							<a href="index.html">
							<i class="fa fa-tachometer fa-fw"></i> <span class="menu-text">首页</span>
							<span class="selected"></span>
							</a>
						</li>
						<li class="has-sub active">
							<a href="javascript:;" class="">
							<i class="fa fa-table fa-fw"></i> <span class="menu-text">数据表</span>
							<span class="arrow open"></span>
							<span class="selected"></span>
							</a>
							<ul class="sub">
								<li><a class="" href="simple_table.html"><span class="sub-menu-text">设备信息表</span></a></li>
								<li><a class="" href="dynamic_tables.html"><span class="sub-menu-text">用户信息表</span></a></li>
								<li><a class="" href="jqgrid_plugin.html"><span class="sub-menu-text">授权信息表</span></a></li>
								<li><a class="" href="jqgrid_plugin.html"><span class="sub-menu-text">房屋信息表</span></a></li>
								<li><a class="" href="jqgrid_plugin.html"><span class="sub-menu-text">策略信息表</span></a></li>
							</ul>
						</li>
						<li style="display: none"><a class="" href="widgets_box.html"><i class="fa fa-th-large fa-fw"></i> <span class="menu-text">Widgets & Box</span></a></li>
						</li>
					</ul>
					<!-- /SIDEBAR MENU -->
				</div>
			</div>
			<!-- /SIDEBAR -->
		<div id="main-content">
			<!-- SAMPLE BOX CONFIGURATION MODAL FORM-->
			<div class="modal fade" id="addUser" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
				  <div class="modal-content">
					<div class="modal-header">
					  <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
					  <h4 class="modal-title">添加用户信息</h4>
					</div>
					<div class="modal-body">
						<form id="addUserForm">
							<div class="form-group">
								<label for="idcard">身份证号</label>
								<input type="text" class="form-control" name="idcard" id="idcard" placeholder="身份证号" required>
							</div>
							<div class="form-group">
								<label for="username">住户姓名</label>
								<input type="text" class="form-control" name="username" id="username" placeholder="住户姓名" required>
							</div>
							<div class="form-group">
								<label for="imagepath">图像地址</label>
								<input type="text" class="form-control" name="imagepath" id="imagepath" placeholder="图像地址" required>
							</div>
							<div class="form-group">
								<label for="mobilephone">联系电话</label>
								<input type="text" class="form-control" name="mobilephone" id="mobilephone" placeholder="联系电话" required>
							</div>
						</form>
					</div>
					<div class="modal-footer">
					  <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
					  <button type="button" class="btn btn-primary" onclick="saveUser()">保存</button>
					</div>
				  </div>
				</div>
			  </div>
			<!-- /SAMPLE BOX CONFIGURATION MODAL FORM-->
			<div class="container">
				<div class="row">
					<div id="content" class="col-lg-12">
						<!-- PAGE HEADER-->
						<div class="row">
							<div class="col-sm-12">
								<div class="page-header">
									<!-- STYLER -->
									
									<!-- /STYLER -->
									<!-- BREADCRUMBS -->
									<ul class="breadcrumb">
										<li>
											<i class="fa fa-home"></i>
											<a href="index.html">主页</a>
										</li>
										<li>
											<a href="#">数据表</a>
										</li>
										<li>用户信息表</li>
									</ul>
									<!-- /BREADCRUMBS -->
									<div class="clearfix">
										<h3 class="content-title pull-left">用户信息表</h3>
									</div>
									<div class="description">记录住户信息</div>
								</div>
							</div>
						</div>
						<!-- /PAGE HEADER -->
						<!-- SIMPLE STRIPED -->
						<div class="row">

							<div class="col-md-12">
								<!-- BOX -->
								<div class="box border blue">
									<div class="box-title">
										<h4><i class="fa fa-table"></i>住户信息</h4>
										<div class="tools">
											<a href="#addUser" data-toggle="modal" class="config">
												<i class="fa fa-cog"></i>
											</a>
											<a href="javascript:;" class="reload">
												<i class="fa fa-refresh"></i>
											</a>
											<a href="javascript:;" class="collapse">
												<i class="fa fa-chevron-up"></i>
											</a>
											<a href="javascript:;" class="remove">
												<i class="fa fa-times"></i>
											</a>
										</div>
									</div>
									<div class="box-body">
										<table class="table table-striped">
											<thead>
											  <tr>
												<th>序号</th>
												<th>身份证号</th>
												<th>住户姓名</th>
												<th>图像地址</th>
											    <th>联系电话</th>
											  </tr>
											</thead>
											<tbody id="tbody_user_info">
											  <tr v-for="(index, userInfo) in userInfoList">
												<td>{{ (index + 1) }}</td>
												<td>{{ userInfo.IDCARD }}</td>
												<td>{{ userInfo.USERNAME }}</td>
												<td>{{ userInfo.IMAGEPATH }}</td>
											  	<td>{{ userInfo.MOBILEPHONE }}</td>
											  </tr>
											</tbody>
										  </table>
									</div>
								</div>
								<!-- /BOX -->
							</div>
						</div>
						<!-- SIMPLE STRIPED -->
						<!-- /BORDERED HOVER -->
						<div class="separator"></div>
						<!-- /BORDERED HOVER -->
					</div>
					<div class="footer-tools">
							<span class="go-top">
								<i class="fa fa-chevron-up"></i> Top
							</span>
						</div>
					</div><!-- /CONTENT-->
				<div class="separator"></div>
			</div>
		</div>
	</section>
	<div class="modal fade" style="overflow:auto; position:fixed;top:50%; left:50%; z-index:1040" id="loadingmodal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<img src="img/loaders/17.gif">
	</div>
	<!--/PAGE -->
	<!-- JAVASCRIPTS -->
	<!-- Placed at the end of the document so the pages load faster -->
	<!-- JQUERY -->
	<script src="js/jquery/jquery-2.0.3.min.js"></script>
	<!-- BOOTSTRAP -->
	<script src="bootstrap-dist/js/bootstrap.min.js"></script>
	
		
	<!-- DATE RANGE PICKER -->

	<!-- TABLE CLOTH -->
	<script type="text/javascript" src="js/tablecloth/js/jquery.tablecloth.js"></script>
	<script type="text/javascript" src="js/tablecloth/js/jquery.tablesorter.min.js"></script>
	<!-- COOKIE -->
	<script type="text/javascript" src="js/jQuery-Cookie/jquery.cookie.min.js"></script>
	<!-- VUE SCRIPT -->
	<script type="text/javascript" src="js/vue.min.js"></script>
	<!-- /JAVASCRIPTS -->
	<script type="text/javascript">
		var vue_tbody_user_info = new Vue({
			el: '#tbody_user_info',
			data: {
				userInfoList: []
			},
			methods: {
				strContain: function(mainStr, subStr) {
					return mainStr.indexOf(subStr) > -1;
				}
			}
		});
		(function () {
			// $('#loadingmodal').modal();
			$.ajax({
				url: 'http://localhost:9666/userInfo/getAll',
				type: 'GET',
				dataType: 'JSONP',
				jsonpCallback: 'jsonpCallback',
				success: function(data) {
					console.log(JSON.stringify(data));
					vue_tbody_user_info.userInfoList = data;
					$('#loadingmodal').modal('hide');
				},
				error: function() {
					console.log('error');
					//$('#loadingmodal').modal('hide');
				}
			});
		})();
	</script>

	<script type="text/javascript">
		function saveUser() {
			console.log($('#addUserForm').serialize());
			$.ajax({
				type: "GET",
				dataType: "JSONP",
				url: 'http://localhost:9666/userInfo/saveUser',
				data: $('#addUserForm').serialize(),
				success: function (result) {
					console.log(result);
				},
				error: function() {
					console.log('error');
				}
			});
		}
	</script>
</body>
</html>